<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OSAL API Manual: Structure Packing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSAL API Manual&#160;<span id="projectnumber">Version 1.0.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group_______p_a_c_k_i_n_g.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Structure Packing</div>  </div>
</div>
<div class="contents">
<table class="memberdecls">
</table>
<p>The syntax of several protocols will be described by structures. The size of a structure and the position of its members depends on the compiler settings and the used processor. To provide always the same syntax, the packing instructions of the compiler have to be used. For example, the one byte alignment instruction forces the alignment of the structure members to one. Normally the alignment of the members depend on the bit size of the used processor. For example, a 32bit processor has a 4byte alignment, a 64bit processor a 8byte boundary.</p>
<p>Based on these information a structure, which contains two members of type unsigned char, has a size of 8 bytes on a 32 bit processor. Both members are aligned to the 4byte boundary. On a 64bit processor the structure size is 8 bytes. Both members are aligned to the 8byte boundary. To force the compiler to use a one byte alignment for the structure, the structure size is always 2 bytes and the members are aligned to a one byte boundary.</p>
<p>For each structure, which will be used to exchange information with remote systems, the alignment instructions have to be used.</p>
<p>The following example shows a typical definition of a structure uses the one byte alignment instructions.</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #if (__PACKING_PRAGMA_USE != 0)</span>
<span class="preprocessor"></span><span class="preprocessor"> #pragma __PACKING_ALIGN1_PRAGMA_ENTER(enter_example)</span>
<span class="preprocessor"></span><span class="preprocessor"> #endif</span>
<span class="preprocessor"></span>
 <span class="keyword">typedef</span> <span class="keyword">struct </span>example_syntax_tag      example_syntax_t;

 __PACKING_ALIGN1_PRE
 <span class="keyword">struct </span>__PACKING_ALIGN1_POST example_syntax_tag
 {
   uint16_t        value16;
   uint8_t         value8;
   uint32_t        value32;
 };

<span class="preprocessor"> #if (__PACKING_PRAGMA_USE != 0)</span>
<span class="preprocessor"></span><span class="preprocessor"> #pragma __PACKING_ALIGN1_PRAGMA_LEAVE(enter_example)</span>
<span class="preprocessor"> #endif</span>
</pre></div><p>The used directives are described in the subsequently listed instructions. </p>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<hr>
<p align="right">
  <img border="0" src="wagologo.jpg" align="absmiddle" width="102" height="31">
  documentation. Copyright (c) 1995-2022 WAGO GmbH & Co. KG.
  All rights reserved.
</p>
